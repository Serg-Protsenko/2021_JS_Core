<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Homework-05</title>
    </head>
    <body>
        <pre>
            <h3><b>Задание №1:</b></h3>
        <i>Ситуация №1:</i>

        1.  button.addEventListener('click', () => {
        2.    Promise.resolve().then(() => console.log('Microtask 1'));
        3.    console.log('Listener 1');
        4.  });
        5.  
        6.  button.addEventListener('click', () => {
        7.    Promise.resolve().then(() => console.log('Microtask 2'));
        8.    console.log('Listener 2');
        9.  });

        <u>Вопрос:</u>  
        в каком порядке будут выведены в консоль сообщения, 
        когда пользователь кликнет по кнопке button? Максимально подробно 
        объяснить, почему. Ответ, содержащий лишь порядок вывода сообщений 
        (даже если он будет верным) не засчитывается. Должно быть объяснение, 
        чтобы я понял, что вы поняли.

        <button id="button">Click me!</button>

         <u>Порядок выполнения:</u>
        1. Listener 1
        2. Microtask 1
        3. Listener 2
        4. Microtask 2

        <u>Пояснение:</u>
        При нажатии мыши на кнопку сначала будет обработана первая функция.
        - Сначала выведется "Listener 1", т.к. это обычный синхронный вызов. 
        - "Microtask 1" появляется вторым, потому что .then проходит через очередь 
        микрозадач и выполняется после текущего синхронного кода.
        После этого будет обработана вторая функция и вывод будет аналогичен только для 
        "Listener 2" и "Microtask 2".


        <i>Ситуация №2:</i>

        1.  button.addEventListener('click', () => {
        2.    Promise.resolve().then(() => console.log('Microtask 1'));
        3.    console.log('Listener 1');
        4.  });
        5.    
        6.  button.addEventListener('click', () => {
        7.    Promise.resolve().then(() => console.log('Microtask 2'));
        8.    console.log('Listener 2');
        9.  });
        10.  
        11. button.click();

        <u>Вопрос:</u>  
        в каком порядке будут выведены в консоль сообщения, когда выполнится 
        код выше? Будет ли разница с первым вариантом? Если нет, то можете 
        опустить этот фрагмент объяснения. Если да, то объяснить, в чём разница.
        Ответ, содержащий лишь порядок вывода сообщений (даже если он будет верным) 
        не засчитывается. Должно быть объяснение, чтобы я понял, что вы поняли.

         <u>Порядок выполнения:</u>
        1. Listener 1
        2. Listener 2
        3. Microtask 1
        4. Microtask 2

        <u>Пояснение:</u>

        Когда мышкой была нажата кнопка, это означало что микрозадачи будут выполнены между 
        обработчиками щелчка, однако .click() происходит синхронно, так что сценарий, который 
        вызвал .click() между обработчиками щелчка всё ещё будет в стеке. Приведённое правило 
        удостоверяет, что микрозадачи не прерывают выполнение JavaScript-кода. Это означает, 
        что очередь микрозадач не будет развёрнута до тех пор, пока все обработчики не выполнятся; 
        очередь до микрозадач дойдёт лишь после всех обработчиков событий. Т.е. сначала будет 
        выдедено "Listener 1" и "Listener 2", а лишь потом будут выполнены микрозадачи "Microtask 1" и 
        "Microtask 2". 


            <h3><b>Задание №2:</b></h3>
        Написать функцию, принимающую список url путей и возвращающую промис, 
        который резолвит результаты всех запросов по указанным url (важно: 
        резолвит массив значений, резолвит не раньше последнего из запросов, 
        функцию запроса взять из ссылки на gist, не использовать Promise.all)
        P.S. список url - так как функция запроса фейковая, то под списком url 
        стоить понимать любой массив строк.

        </pre>
        <script src="index.js"></script>
    </body>
</html>